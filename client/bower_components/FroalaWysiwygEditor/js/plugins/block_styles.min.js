/*!
 * froala_editor v1.2.1 (http://editor.froala.com)
 * Copyright 2014-2014 Froala
 */
!function(a){a.Editable.commands=a.extend(a.Editable.commands,{blockStyle:{title:"Block Style",icon:"fa fa-magic"}}),a.Editable.DEFAULTS=a.extend(a.Editable.DEFAULTS,{defaultBlockStyle:{"f-italic":"Italic","f-typewriter":"Typewriter","f-spaced":"Spaced","f-uppercase":"Uppercase"},blockStylesToggle:!0,blockStyles:{}}),a.Editable.prototype.execCommand=a.extend(a.Editable.prototype.execCommand,{blockStyle:function(a,b,c){this.blockStyle(b,c)}}),a.Editable.prototype.command_dispatcher=a.extend(a.Editable.prototype.command_dispatcher,{blockStyle:function(a){var b=this.buildDropdownBlockStyle(a),c=this.buildDropdownButton(a,b);this.$bttn_wrapper.append(c),this.addListener("refresh",this.updateBlockStyles),this.registerRefreshEvent("blockStyle",function(a){this.refreshBlockStyle(a)})}}),a.Editable.prototype.buildDropdownBlockStyle=function(){var a='<ul class="fr-dropdown-menu fr-block-style">';return a+="</ul>"},a.Editable.prototype.activeBlockTag=function(){var b=a('.active[data-cmd="formatBlock"]').data("val");return b},a.Editable.prototype.updateBlockStyles=function(){var b=this.activeBlockTag();this.$bttn_wrapper.find(".fr-block-style").empty();var c=this.options.blockStyles[b];if(void 0===c&&(c=this.options.defaultBlockStyle),void 0!==c){this.$bttn_wrapper.find('.fr-dropdown[data-name="blockStyle"] .fr-trigger').removeAttr("disabled");for(var d in c){var e=c[d];this.$bttn_wrapper.find(".fr-block-style").append(a("<li>").append(a('<a href="#" data-text="true">').text(e).addClass(d)).attr("data-cmd","blockStyle").attr("data-val",d))}}},a.Editable.prototype.refreshBlockStyle=function(b){this.disabledList.indexOf("blockStyle")>=0&&a(b).parents(".fr-dropdown .fr-trigger").prop("disabled",!0),a(b).removeClass("active"),this.isActive(a(b).data("cmd"),a(b).data("val"))&&a(b).addClass("active")},a.Editable.prototype.active_dispatcher=a.extend(a.Editable.prototype.active_dispatcher,{blockStyle:function(a,b){return this._isActiveBlockStyle(a,b)}}),a.Editable.prototype._isActiveBlockStyle=function(b,c){var d=a(this.getSelectionElements()[0]);return d.get(0)!=this.$element.get(0)&&d.hasClass(c)?!0:!1},a.Editable.prototype.blockStyle=function(a,b){this.refreshBlocks();var c=this.activeBlockTag();this.formatBlock(c,a,b)}}(jQuery);